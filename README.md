# Flask Web用户系统

一个基于Flask和SQLite3的完整用户管理系统，支持用户注册、登录、管理员管理等功能。

## 功能特性

### 用户功能
- ✅ 用户注册（用户名、密码、确认密码、手机号验证）
- ✅ 用户登录（支持普通用户和管理员）
- ✅ 用户信息管理

### 管理员功能
- ✅ 查看所有用户信息（表格形式）
- ✅ 删除用户（同时删除用户信息和日记数据）
- ✅ 修改用户信息（用户名、密码、手机号）

### 验证功能
- ✅ 密码确认验证
- ✅ 手机号格式验证（1开头的11位数字）
- ✅ 用户名唯一性验证
- ✅ 登录验证（用户名和密码匹配）

### 界面特性
- ✅ 响应式设计，支持移动端和桌面端
- ✅ 现代化的UI设计
- ✅ 友好的错误提示

## 技术栈

- **后端框架**: Flask 3.0.0
- **数据库**: SQLite3
- **前端**: HTML5 + CSS3（响应式设计）
- **JavaScript**: 原生JS（用于删除功能）

## 项目结构

```
Flask/
├── app.py                  # Flask主应用文件
├── requirements.txt        # Python依赖包
├── user_system.db         # SQLite数据库文件（运行后自动生成）
├── static/
│   └── style.css          # 样式文件（响应式设计）
└── templates/
    ├── base.html          # 基础模板
    ├── login.html         # 登录页面
    ├── register.html      # 注册页面
    ├── user_dashboard.html # 用户界面
    ├── admin_dashboard.html # 管理员界面
    └── edit_user.html     # 修改用户信息页面
```

## 安装和运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行应用

```bash
python app.py
```

### 3. 访问应用

在浏览器中打开：`http://localhost:5000`

## 默认管理员账户

- **用户名**: admin
- **密码**: admin123

## 数据库结构

### 用户信息表 (users)
- `id`: 主键，自增
- `username`: 用户名（唯一）
- `password`: 密码
- `phone`: 手机号

### 日记表 (diaries)
- `id`: 主键，自增
- `username`: 用户名（外键关联users表）
- `diary`: 日记内容

## 核心功能说明

### 1. 用户注册
- 验证密码和确认密码是否一致
- 验证手机号格式（1开头的11位数字）
- 验证用户名是否已存在
- 注册成功后存储到数据库

### 2. 用户登录
- 支持普通用户登录
- 支持管理员登录
- 登录失败显示错误提示

### 3. 管理员功能
- 查看所有用户信息（表格形式）
- 删除用户（同时删除用户信息和日记）
- 修改用户信息（带验证）

### 4. 修改用户信息
- 显示原用户信息
- 可以修改任意字段
- 修改用户名时验证是否重复
- 修改手机号时验证格式

## 代码特点

- ✅ 详细的代码注释
- ✅ 清晰的函数结构
- ✅ 完善的错误处理
- ✅ 响应式设计
- ✅ 安全性考虑（session管理、SQL注入防护）

## 注意事项

1. 生产环境使用前，请修改 `app.secret_key`
2. 建议将管理员账户信息存储在环境变量或配置文件中
3. 密码建议使用哈希加密存储（当前为明文存储，仅用于演示）

## 开发者

本项目为Flask学习项目，代码结构清晰，适合学习和参考。
